import torch
from cellworld_game import Polygon
import matplotlib.pyplot as plt

polygon1 = Polygon([
        [0.1320, 0.7286],
        [0.1953, 0.7300],
        [0.2181, 0.7169],
        [0.2188, 0.7165],
        [0.2188, 0.7092],
        [0.4766, 0.7300],
        [0.4998, 0.7166],
        [0.5000, 0.7165],
        [0.5000, 0.6894],
        [0.4992, 0.6890],
        [0.4766, 0.6759],
        [0.3594, 0.6273],
        [0.3594, 0.6083],
        [0.3557, 0.6061],
        [0.3359, 0.5947],
        [0.3359, 0.5943],
        [0.3359, 0.5677],
        [0.3326, 0.5657],
        [0.3125, 0.5541],
        [0.1016, 0.4316],
        [0.1016, 0.4053],
        [0.0675, 0.3831],
        [0.1129, 0.3044],
        [0.2187, 0.3917],
        [0.2396, 0.4038],
        [0.2422, 0.4053],
        [0.2534, 0.3988],
        [0.3828, 0.5135],
        [0.4050, 0.5263],
        [0.4062, 0.5271],
        [0.4297, 0.5135],
        [0.4297, 0.5131],
        [0.4297, 0.4865],
        [0.2946, 0.3209],
        [0.3125, 0.3106],
        [0.3125, 0.3097],
        [0.3125, 0.3015],
        [0.5000, 0.5541],
        [0.5230, 0.5674],
        [0.5234, 0.5677],
        [0.5469, 0.5541],
        [0.5469, 0.5536],
        [0.5469, 0.5271],
        [0.5097, 0.4403],
        [0.5234, 0.4323],
        [0.5234, 0.4314],
        [0.5234, 0.4053],
        [0.6172, 0.6759],
        [0.6406, 0.6894],
        [0.6406, 0.6894],
        [0.6641, 0.6759],
        [0.7033, 0.5632],
        [0.7109, 0.5677],
        [0.7112, 0.5675],
        [0.7344, 0.5541],
        [0.8717, 0.2778],
        [0.9000, 0.3267],
        [0.8516, 0.4053],
        [0.8516, 0.4317],
        [0.8516, 0.4323],
        [0.8750, 0.4459],
        [0.8759, 0.4454],
        [0.8974, 0.4329],
        [0.8984, 0.4323],
        [0.9063, 0.4369],
        [0.8281, 0.5275],
        [0.8281, 0.5537],
        [0.8281, 0.5541],
        [0.8516, 0.5677],
        [0.8530, 0.5668],
        [0.8733, 0.5551],
        [0.7578, 0.6488],
        [0.7578, 0.6759],
        [0.7578, 0.6759],
        [0.7812, 0.6894],
        [0.9216, 0.6357],
        [0.7501, 0.9328],
        [0.7500, 0.9330],
        [0.7065, 0.9330],
        [0.6641, 0.8112],
        [0.6407, 0.7977],
        [0.6406, 0.7977],
        [0.6172, 0.8112],
        [0.6171, 0.8112],
        [0.5938, 0.7977],
        [0.5936, 0.7978],
        [0.5703, 0.8112],
        [0.4434, 0.9330],
        [0.2500, 0.9330],
        [0.2498, 0.9326],
        [0.2066, 0.8579],
        [0.3828, 0.8112],
        [0.4055, 0.7981],
        [0.4062, 0.7977],
        [0.4062, 0.7706],
        [0.4059, 0.7704],
        [0.3828, 0.7571],
        [0.1551, 0.7686]])
polygon2 = Polygon([
        [ 5.4584e-02,  4.0546e-01],
        [ 5.4688e-02,  4.0528e-01],
        [ 5.4688e-02,  4.3135e-01],
        [ 5.4688e-02,  4.3234e-01],
        [ 7.8125e-02,  4.4587e-01],
        [ 7.8223e-02,  4.4582e-01],
        [ 1.0156e-01,  4.3234e-01],
        [ 3.8068e-01,  6.6987e-02],
        [ 4.5263e-01,  6.6987e-02],
        [ 2.8906e-01,  2.4341e-01],
        [ 2.8906e-01,  2.5948e-01],
        [ 2.6562e-01,  2.8349e-01],
        [ 2.6562e-01,  3.0224e-01],
        [ 2.4219e-01,  3.2409e-01],
        [ 2.4219e-01,  3.4589e-01],
        [ 2.1875e-01,  3.6496e-01],
        [ 2.1875e-01,  3.9151e-01],
        [ 2.1875e-01,  3.9175e-01],
        [ 2.4219e-01,  4.0528e-01],
        [ 3.8281e-01,  3.3638e-01],
        [ 3.8281e-01,  3.5075e-01],
        [ 3.8281e-01,  3.5115e-01],
        [ 4.0625e-01,  3.6468e-01],
        [ 4.7656e-01,  3.3846e-01],
        [ 4.7656e-01,  3.5067e-01],
        [ 4.7656e-01,  3.5115e-01],
        [ 5.0000e-01,  3.6468e-01],
        [ 8.5990e-01,  2.5734e-01],
        [ 8.8337e-01,  2.9799e-01],
        [ 6.6264e-01,  3.5197e-01],
        [ 6.6071e-01,  3.5308e-01],
        [ 4.9859e-01,  3.9256e-01],
        [ 4.7656e-01,  4.0528e-01],
        [ 4.7656e-01,  4.0528e-01],
        [ 1.7152e-01,  4.7314e-01],
        [ 1.4867e-01,  4.8634e-01],
        [ 1.4844e-01,  4.8647e-01],
        [ 1.4844e-01,  5.1343e-01],
        [ 1.4844e-01,  5.1353e-01],
        [ 1.2509e-01,  5.2701e-01],
        [ 1.2500e-01,  5.2706e-01],
        [ 1.2500e-01,  5.5413e-01],
        [ 6.4874e-01,  9.3301e-01],
        [ 6.2118e-01,  9.3301e-01],
        [ 4.0625e-01,  7.7063e-01],
        [ 3.8281e-01,  7.5710e-01],
        [ 3.8242e-01,  7.5733e-01],
        [ 3.5975e-01,  7.7042e-01],
        [ 3.5938e-01,  7.7063e-01],
        [ 3.5938e-01,  7.9770e-01],
        [ 4.9910e-01,  9.3301e-01],
        [ 4.3649e-01,  9.3301e-01],
        [ 2.1875e-01,  6.8944e-01],
        [ 1.9531e-01,  6.7591e-01],
        [ 1.9511e-01,  6.7603e-01],
        [ 1.7188e-01,  6.8944e-01],
        [ 1.7188e-01,  6.8986e-01],
        [ 1.7188e-01,  7.1600e-01],
        [ 2.9375e-01,  9.3301e-01],
        [ 2.5053e-01,  9.3301e-01],
        [ 2.5000e-01,  9.3301e-01],
        [-2.8884e-05,  4.9995e-01]])



inter1 = polygon1.contains(polygon2.vertices)
inter2 = polygon1.contains(polygon1.vertices)




# # Plotting
# plt.figure(figsize=(8, 8))
# plt.plot(*tensor1.t(), 'b-', label='Polygon 1')
# plt.plot(*tensor2.t(), 'r-', label='Polygon 2')
# if len(intersection_tensor) > 0:
#     plt.plot(*intersection_tensor.t(), 'g-', label='Intersection')
# plt.fill(*tensor1.t(), 'b', alpha=0.3)
# plt.fill(*tensor2.t(), 'r', alpha=0.3)
# if len(intersection_tensor) > 0:
#     plt.fill(*intersection_tensor.t(), 'g', alpha=0.3)
#
plt.legend()
plt.grid(True)
plt.xlabel('X')
plt.ylabel('Y')
plt.title('Polygon Intersection')
plt.show()


